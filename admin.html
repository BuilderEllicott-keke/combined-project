<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Intersellar - GE Custom</title>
    <link rel="stylesheet" href="/assets/css/global.css?v=6" />
    <link rel="stylesheet" href="/assets/css/container.css?v=2" />
    <link rel="stylesheet" href="/assets/css/nav.css?v=01" />
    <style>
        body {
            background: #1a1a1a;
            color: #fff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .admin-header {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        .admin-section {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .admin-section h3 {
            color: #fff;
            margin-bottom: 15px;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .stat-card {
            background: #333;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
        }
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #007bff;
        }
        .stat-label {
            color: #ccc;
            font-size: 0.9rem;
        }
        .access-codes {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
        }
        .code-item {
            background: #333;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9rem;
        }
        .code-date {
            color: #007bff;
            font-weight: bold;
        }
        .code-value {
            color: #fff;
            margin-top: 5px;
        }
        .admin-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        .btn:hover {
            background: #0056b3;
        }
        .btn-danger {
            background: #dc3545;
        }
        .btn-danger:hover {
            background: #c82333;
        }
        .btn-success {
            background: #28a745;
        }
        .btn-success:hover {
            background: #218838;
        }
        .log-entry {
            background: #333;
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9rem;
        }
        .log-success {
            border-left: 4px solid #28a745;
        }
        .log-failed {
            border-left: 4px solid #dc3545;
        }
        .log-admin {
            border-left: 4px solid #007bff;
        }
    </style>
</head>
<body>
    <div class="f-nav"></div>
    
    <div class="admin-container">
        <div class="admin-header">
            <h1>üõ°Ô∏è Admin Panel</h1>
            <p>System Administration & Access Management</p>
            <div id="currentDateTime"></div>
        </div>

        <div class="admin-section">
            <h3>üìä System Statistics</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalUsers">-</div>
                    <div class="stat-label">Total Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="todayLogins">-</div>
                    <div class="stat-label">Today's Logins</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeSessions">-</div>
                    <div class="stat-label">Active Sessions</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="failedAttempts">-</div>
                    <div class="stat-label">Failed Attempts</div>
                </div>
            </div>
        </div>

        <div class="admin-section">
            <h3>üîë Access Codes Management</h3>
            <div class="admin-actions">
                <button class="btn" onclick="loadAccessCodes()">Refresh Codes</button>
                <button class="btn btn-success" onclick="generateNewCodes()">Generate New Codes</button>
                <button class="btn btn-danger" onclick="clearAllCodes()">Clear All Codes</button>
            </div>
            <div id="accessCodesList" class="access-codes">
                <!-- Access codes will be loaded here -->
            </div>
        </div>

        <div class="admin-section">
            <h3>üìù Access Logs</h3>
            <div class="admin-actions">
                <button class="btn" onclick="loadAccessLogs()">Refresh Logs</button>
                <button class="btn btn-danger" onclick="clearLogs()">Clear Logs</button>
            </div>
            <div id="accessLogs">
                <!-- Access logs will be loaded here -->
            </div>
        </div>

        <div class="admin-section">
            <h3>‚öôÔ∏è System Actions</h3>
            <div class="admin-actions">
                <button class="btn" onclick="restartSystem()">Restart System</button>
                <button class="btn btn-danger" onclick="emergencyShutdown()">Emergency Shutdown</button>
                <button class="btn btn-success" onclick="exportLogs()">Export Logs</button>
            </div>
        </div>
    </div>

    <script src="/assets/js/001.js?v=001"></script>
    <script>
        // Check if user is admin
        if (localStorage.getItem('userType') !== 'admin') {
            alert('Access denied. Admin privileges required.');
            window.location.href = '/login.html';
        }

        // Update current date/time
        function updateDateTime() {
            const now = new Date();
            const dateTime = now.toLocaleString();
            document.getElementById('currentDateTime').textContent = `Current Time: ${dateTime}`;
        }

        // Load access codes
        function loadAccessCodes() {
            // In a real implementation, this would fetch from a database
            const codes = [
                { date: 'Sep17_25', code: 'pdF9FR7b32:np9ffBUMvh' },
                { date: 'Sep18_25', code: 'xXVYGdsfae:nQfDsFsXP5' },
                { date: 'Sep19_25', code: 'CTxwLhr9FZ:B8gLPmxjvp' },
                { date: 'Sep20_25', code: 'Lpc6vCcPsC:AjsqFuY3yu' },
                { date: 'Sep21_25', code: 'TPykKgtsEU:T3y2zwtDRj' },
                { date: 'Sep22_25', code: 'C5zaV4ba2Z:5c4qGn7s6T' },
                { date: 'Sep23_25', code: 'Vz4VF4RGw9:9fk9YdkysD' },
                { date: 'Sep24_25', code: 'nYcacC8EaQ:kVsHD6AfbH' },
                { date: 'Sep25_25', code: 'z4uhmS7NC4:dWxBchhuKa' },
                { date: 'Sep26_25', code: 'Q39Mg3jHPe:gDLMyQJPgV' },
                { date: 'Sep27_25', code: 's5YdgsS9ST:JY8JSBn8qh' },
                { date: 'Sep28_25', code: 'ZeFnm2LCX8:j83rRF3Px4' },
                { date: 'Sep29_25', code: 'dwz62c9d3E:tAZJTdyCfN' },
                { date: 'Sep30_25', code: 'XwEmrg9LMz:LzHZPJtRQf' },
                { date: 'Oct01_25', code: '2TcHewC2pd:GR2MtGnqkC' },
                { date: 'Oct02_25', code: 'kXsJtCVq43:ZQpxVr3pDX' },
                { date: 'Oct03_25', code: 'nmsQ9HwWTr:X6kLSNhD9z' },
                { date: 'Oct04_25', code: 'XEKy67dhf4:LwjwKZkV5p' },
                { date: 'Oct05_25', code: 'eaqZ5yDgby:cZ65RjUkTU' },
                { date: 'Oct06_25', code: 'BrEmmwMVVs:heFnEk5PWq' },
                { date: 'Oct07_25', code: 'R7WndFJjfP:7xTc9PPsnf' },
                { date: 'Oct08_25', code: 'bFS6DhUzha:HK94KS9fWS' },
                { date: 'Oct09_25', code: 'uuKxPvpPje:UeTTLjyMYP' },
                { date: 'Oct10_25', code: '9Lq3wEuT68:fWqQc2tYZ8' },
                { date: 'Oct11_25', code: 'VFcPpEMRH8:weNFH4Daka' },
                { date: 'Oct12_25', code: 'BRjVkuNQD6:YyyVT9hGGJ' },
                { date: 'Oct13_25', code: 'KaKPQjnr2w:wBRqaLYYdX' },
                { date: 'Oct14_25', code: 'JhjCUDEd6d:r4NvRw8xwa' },
                { date: 'Oct15_25', code: '9gEznE4Sqr:uCgtDEZZf4' },
                { date: 'Oct16_25', code: 'xS9gVFZ4cc:6pg6mppCgw' },
                { date: 'Oct17_25', code: 'wLTqWFKvAS:vRuH4R5PAR' },
                { date: 'Oct18_25', code: 'uTGHwjS28Y:ULEJpqSvSE' },
                { date: 'Oct19_25', code: 'QYynpwf2rR:46yQhazZPE' },
                { date: 'Oct20_25', code: 'eRTmzjGaP3:uRvVzJBwDH' },
                { date: 'Oct21_25', code: 'NwcwPVAStP:xRAScKUvud' }
            ];

            const container = document.getElementById('accessCodesList');
            container.innerHTML = '';

            codes.forEach(code => {
                const codeItem = document.createElement('div');
                codeItem.className = 'code-item';
                codeItem.innerHTML = `
                    <div class="code-date">${code.date}</div>
                    <div class="code-value">${code.code}</div>
                `;
                container.appendChild(codeItem);
            });
        }

        // Load access logs
        function loadAccessLogs() {
            // In a real implementation, this would fetch from a database
            const logs = [
                { timestamp: '2025-01-15T10:30:00Z', userType: 'user', success: true, ip: '192.168.1.100', dateCode: 'Oct21_25' },
                { timestamp: '2025-01-15T10:25:00Z', userType: 'admin', success: true, ip: '192.168.1.50', dateCode: 'Oct21_25' },
                { timestamp: '2025-01-15T10:20:00Z', userType: 'user', success: false, ip: '192.168.1.101', dateCode: 'Oct21_25' },
                { timestamp: '2025-01-15T10:15:00Z', userType: 'user', success: true, ip: '192.168.1.102', dateCode: 'Oct21_25' },
                { timestamp: '2025-01-15T10:10:00Z', userType: 'user', success: false, ip: '192.168.1.103', dateCode: 'Oct21_25' }
            ];

            const container = document.getElementById('accessLogs');
            container.innerHTML = '';

            logs.forEach(log => {
                const logEntry = document.createElement('div');
                logEntry.className = `log-entry ${log.success ? 'log-success' : 'log-failed'} ${log.userType === 'admin' ? 'log-admin' : ''}`;
                logEntry.innerHTML = `
                    <strong>${new Date(log.timestamp).toLocaleString()}</strong> - 
                    ${log.userType.toUpperCase()} - 
                    ${log.success ? 'SUCCESS' : 'FAILED'} - 
                    IP: ${log.ip} - 
                    Code: ${log.dateCode}
                `;
                container.appendChild(logEntry);
            });
        }

        // Update statistics
        function updateStats() {
            document.getElementById('totalUsers').textContent = '42';
            document.getElementById('todayLogins').textContent = '15';
            document.getElementById('activeSessions').textContent = '8';
            document.getElementById('failedAttempts').textContent = '3';
        }

        // Admin actions
        function generateNewCodes() {
            alert('New access codes generated successfully!');
            loadAccessCodes();
        }

        function clearAllCodes() {
            if (confirm('Are you sure you want to clear all access codes? This will lock out all users!')) {
                alert('All access codes cleared.');
                loadAccessCodes();
            }
        }

        function loadAccessLogs() {
            loadAccessLogs();
        }

        function clearLogs() {
            if (confirm('Are you sure you want to clear all access logs?')) {
                document.getElementById('accessLogs').innerHTML = '<div class="log-entry">Logs cleared.</div>';
            }
        }

        function restartSystem() {
            if (confirm('Are you sure you want to restart the system?')) {
                alert('System restart initiated...');
            }
        }

        function emergencyShutdown() {
            if (confirm('EMERGENCY SHUTDOWN: This will immediately lock out all users. Continue?')) {
                alert('Emergency shutdown activated. All users will be logged out.');
            }
        }

        function exportLogs() {
            alert('Logs exported successfully!');
        }

        // Initialize admin panel
        document.addEventListener('DOMContentLoaded', function() {
            updateDateTime();
            updateStats();
            loadAccessCodes();
            loadAccessLogs();
            
            // Update time every minute
            setInterval(updateDateTime, 60000);
        });
    </script>
</body>
</html>
